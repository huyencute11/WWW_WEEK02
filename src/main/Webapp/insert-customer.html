<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container-sm">
    <form class="container mt-5" id="employee-form">
        <div class="form-group">
            <label for="custName">Full Name</label>
            <input type="text" class="form-control" id="custName" name="custName" placeholder="Enter full name" required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Enter email" required>
        </div>
        <div class="form-group">
            <label for="phone">Phone</label>
            <input type="tel" class="form-control" id="phone" name="phone" placeholder="Enter phone" required>
        </div>
        <div class="form-group">
            <label for="address">Address</label>
            <input type="text" class="form-control" id="address" name="address" placeholder="Enter address" required>
        </div>
        <input type="submit" class="btn btn-primary" value="Submit">
        <input type="reset" class="btn btn-secondary" value="Reset">
    </form>
    <script>
        const form = document.getElementById("employee-form");

        form.addEventListener("submit", async function (e) {
            e.preventDefault();
            const data = {
                custName: document.getElementById("custName").value,
                email: document.getElementById("email").value,
                phone: document.getElementById("phone").value,
                address: document.getElementById("address").value,
            };
            try {
                // Send a POST request to the API
                const response = await fetch("http://localhost:8081/Gradle___www_week2___WWW_Lab02_1_0_SNAPSHOT_war/api/customer", {
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    method: "POST",
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    alert("Employee added successfully!");
                    form.reset(); // Clear the form
                } else {
                    alert("Failed to add an employee. Please try again.");
                }
            } catch (error) {
                console.error("An error occurred:", error);
            }
        });
    </script>
</div>
</body>
</html>
